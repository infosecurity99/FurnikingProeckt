{"ast":null,"code":"var fs = require('fs');\n\nvar path = require('path');\n\nvar assign = require('./assign');\n\nvar YError = require('./yerror');\n\nvar previouslyVisitedConfigs = [];\n\nfunction checkForCircularExtends(path) {\n  if (previouslyVisitedConfigs.indexOf(path) > -1) {\n    throw new YError(\"Circular extended configurations: '\" + path + \"'.\");\n  }\n}\n\nfunction getPathToDefaultConfig(cwd, pathToExtend) {\n  return path.resolve(cwd, pathToExtend);\n}\n\nfunction applyExtends(config, cwd) {\n  var defaultConfig = {};\n\n  if (config.hasOwnProperty('extends')) {\n    if (typeof config.extends !== 'string') return defaultConfig;\n    var isPath = /\\.json$/.test(config.extends);\n    var pathToDefault = null;\n\n    if (!isPath) {\n      try {\n        pathToDefault = require.resolve(config.extends);\n      } catch (err) {// most likely this simply isn't a module.\n      }\n    } else {\n      pathToDefault = getPathToDefaultConfig(cwd, config.extends);\n    } // maybe the module uses key for some other reason,\n    // err on side of caution.\n\n\n    if (!pathToDefault && !isPath) return config;\n    checkForCircularExtends(pathToDefault);\n    previouslyVisitedConfigs.push(pathToDefault);\n    defaultConfig = isPath ? JSON.parse(fs.readFileSync(pathToDefault, 'utf8')) : require(config.extends);\n    delete config.extends;\n    defaultConfig = applyExtends(defaultConfig, path.dirname(pathToDefault));\n  }\n\n  previouslyVisitedConfigs = [];\n  return assign(defaultConfig, config);\n}\n\nmodule.exports = applyExtends;","map":{"version":3,"sources":["C:/Users/Hp/node_modules/npx/node_modules/yargs/lib/apply-extends.js"],"names":["fs","require","path","assign","YError","previouslyVisitedConfigs","checkForCircularExtends","indexOf","getPathToDefaultConfig","cwd","pathToExtend","resolve","applyExtends","config","defaultConfig","hasOwnProperty","extends","isPath","test","pathToDefault","err","push","JSON","parse","readFileSync","dirname","module","exports"],"mappings":"AAAA,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIE,MAAM,GAAGF,OAAO,CAAC,UAAD,CAApB;;AACA,IAAIG,MAAM,GAAGH,OAAO,CAAC,UAAD,CAApB;;AAEA,IAAII,wBAAwB,GAAG,EAA/B;;AAEA,SAASC,uBAAT,CAAkCJ,IAAlC,EAAwC;AACtC,MAAIG,wBAAwB,CAACE,OAAzB,CAAiCL,IAAjC,IAAyC,CAAC,CAA9C,EAAiD;AAC/C,UAAM,IAAIE,MAAJ,CAAW,wCAAwCF,IAAxC,GAA+C,IAA1D,CAAN;AACD;AACF;;AAED,SAASM,sBAAT,CAAiCC,GAAjC,EAAsCC,YAAtC,EAAoD;AAClD,SAAOR,IAAI,CAACS,OAAL,CAAaF,GAAb,EAAkBC,YAAlB,CAAP;AACD;;AAED,SAASE,YAAT,CAAuBC,MAAvB,EAA+BJ,GAA/B,EAAoC;AAClC,MAAIK,aAAa,GAAG,EAApB;;AAEA,MAAID,MAAM,CAACE,cAAP,CAAsB,SAAtB,CAAJ,EAAsC;AACpC,QAAI,OAAOF,MAAM,CAACG,OAAd,KAA0B,QAA9B,EAAwC,OAAOF,aAAP;AACxC,QAAIG,MAAM,GAAG,UAAUC,IAAV,CAAeL,MAAM,CAACG,OAAtB,CAAb;AACA,QAAIG,aAAa,GAAG,IAApB;;AACA,QAAI,CAACF,MAAL,EAAa;AACX,UAAI;AACFE,QAAAA,aAAa,GAAGlB,OAAO,CAACU,OAAR,CAAgBE,MAAM,CAACG,OAAvB,CAAhB;AACD,OAFD,CAEE,OAAOI,GAAP,EAAY,CACZ;AACD;AACF,KAND,MAMO;AACLD,MAAAA,aAAa,GAAGX,sBAAsB,CAACC,GAAD,EAAMI,MAAM,CAACG,OAAb,CAAtC;AACD,KAZmC,CAapC;AACA;;;AACA,QAAI,CAACG,aAAD,IAAkB,CAACF,MAAvB,EAA+B,OAAOJ,MAAP;AAE/BP,IAAAA,uBAAuB,CAACa,aAAD,CAAvB;AAEAd,IAAAA,wBAAwB,CAACgB,IAAzB,CAA8BF,aAA9B;AAEAL,IAAAA,aAAa,GAAGG,MAAM,GAAGK,IAAI,CAACC,KAAL,CAAWvB,EAAE,CAACwB,YAAH,CAAgBL,aAAhB,EAA+B,MAA/B,CAAX,CAAH,GAAwDlB,OAAO,CAACY,MAAM,CAACG,OAAR,CAArF;AACA,WAAOH,MAAM,CAACG,OAAd;AACAF,IAAAA,aAAa,GAAGF,YAAY,CAACE,aAAD,EAAgBZ,IAAI,CAACuB,OAAL,CAAaN,aAAb,CAAhB,CAA5B;AACD;;AAEDd,EAAAA,wBAAwB,GAAG,EAA3B;AAEA,SAAOF,MAAM,CAACW,aAAD,EAAgBD,MAAhB,CAAb;AACD;;AAEDa,MAAM,CAACC,OAAP,GAAiBf,YAAjB","sourcesContent":["var fs = require('fs')\nvar path = require('path')\nvar assign = require('./assign')\nvar YError = require('./yerror')\n\nvar previouslyVisitedConfigs = []\n\nfunction checkForCircularExtends (path) {\n  if (previouslyVisitedConfigs.indexOf(path) > -1) {\n    throw new YError(\"Circular extended configurations: '\" + path + \"'.\")\n  }\n}\n\nfunction getPathToDefaultConfig (cwd, pathToExtend) {\n  return path.resolve(cwd, pathToExtend)\n}\n\nfunction applyExtends (config, cwd) {\n  var defaultConfig = {}\n\n  if (config.hasOwnProperty('extends')) {\n    if (typeof config.extends !== 'string') return defaultConfig\n    var isPath = /\\.json$/.test(config.extends)\n    var pathToDefault = null\n    if (!isPath) {\n      try {\n        pathToDefault = require.resolve(config.extends)\n      } catch (err) {\n        // most likely this simply isn't a module.\n      }\n    } else {\n      pathToDefault = getPathToDefaultConfig(cwd, config.extends)\n    }\n    // maybe the module uses key for some other reason,\n    // err on side of caution.\n    if (!pathToDefault && !isPath) return config\n\n    checkForCircularExtends(pathToDefault)\n\n    previouslyVisitedConfigs.push(pathToDefault)\n\n    defaultConfig = isPath ? JSON.parse(fs.readFileSync(pathToDefault, 'utf8')) : require(config.extends)\n    delete config.extends\n    defaultConfig = applyExtends(defaultConfig, path.dirname(pathToDefault))\n  }\n\n  previouslyVisitedConfigs = []\n\n  return assign(defaultConfig, config)\n}\n\nmodule.exports = applyExtends\n"]},"metadata":{},"sourceType":"script"}